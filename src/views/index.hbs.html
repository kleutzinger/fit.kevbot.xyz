<!doctype html>
<html lang="en">
  <head>
    <title>Kevin's workout tracker</title>
    <meta
      name="description"
      content="Kevin's workout tracker. Track your workouts."
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="/style.css" rel="stylesheet" />
    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
  </head>
  <body>
    <div class="grid grid-cols-1 justify-items-center p-8">
      {{> line-break text='top' }}
      <form hx-post="/submit-workout" hx-swap="innerHTML" hx-target="#output">
        <div>
          <select
            name="machine_name"
            id="machine_name"
            hx-get="/machine-list"
            hx-trigger="load"
            hx-swap="innerHTML"
            hx-target="this"
          ></select>
          <label for="machine_name">Machine Name</label>
        </div>
        <div>
          <input
            name="weight"
            id="weight"
            class="bg-red-200"
            autocomplete="off"
            inputmode="numeric"
            pattern="[0-9]{1,20}"
            type="text"
          />
          <label for="weight">Weight</label>
        </div>
        <div>
          <input
            name="reps"
            id="reps"
            autocomplete="off"
            class="bg-green-200"
            inputmode="numeric"
            type="text"
          />
          <label for="reps">Reps</label>
        </div>
        <div>
          <input
            name="note"
            id="note"
            autocomplete="off"
            class="bg-blue-200"
            type="text"
          />
          <label for="note"> Note </label>
        </div>
        <button class="btn btn-blue">Submit lift</button>
      </form>
      <p id="output"></p>
      {{> line-break text='bottom' }}
      <!-- <label for="cur-machine-only">Cur machine only</label> -->
      <!-- <input type="checkbox" id="cur-machine-only" onchange="console.log(this.checked)" /> -->
      <div
        href="#"
        class="text-xl"
        id="workout-history"
        hx-get="/workouts?limit=20"
        hx-trigger="workout-modified from:body, onFocus, load"
        hx-swap="innerHTML"
      ></div>
      <a class="text-xl" href="/admin">admin</a>
      <a class="text-xl" href="/edit-machines">edit saved machines</a>
      <a class="text-xl" href="/edit-workouts">edit workout logs</a>
      <p
        class="text-center"
        hx-get="/user-info"
        hx-trigger="load"
        hx-swap="innerHTML"
      ></p>
    </div>
    <script src="/client.js"></script>
  </body>
</html>
