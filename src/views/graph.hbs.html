<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css"
/>

<select
  name="machine_name"
  id="machine_name"
  hx-get="/machine-options"
  hx-trigger="load"
  hx-swap="innerHTML"
></select>

<div id="chart"></div>
<script>
  (() => {
    // var resp = await fetch("/download-json");
    // var json = await resp.json();
    // // extract just the workouts
    // const workouts = json.workouts;
    // workouts.sort(function (a, b) {
    //   return new Date(a.datetime) - new Date(b.datetime);
    // });
    // var labels = workouts.map(function (e) {
    //   return new Date(e.datetime).toLocaleDateString();
    // });
    // var data = workouts.map(function (e) {
    //   return e.weight;
    // });
    // good example:
    // https://jsfiddle.net/nimeshka/fyL5bt56/

    var chart = c3.generate({
      bindto: "#chart",
      data: {
        columns: [
          ["data1", 30, 200, 100, 400, 150, 250],
          ["data2", 50, 20, 10, 40, 15, 25],
        ],
      },
    });
  })();
</script>
